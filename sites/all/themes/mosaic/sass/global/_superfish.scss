
// Superfish definitions
//  Only superfish related styles should be here!

@import 'global/arrows';
@import 'global/colors';
@import 'global/fonts';

// external imports
@import 'compass/css3/opacity';
@import 'compass/css3/text-shadow';

// Primary styles
.sf-menu, .sf-menu * {
  margin: 0;
  padding: 0;
  list-style: none;
}

// Reset unneeded superfish styles
.sf-menu.sf-horizontal.sf-shadow ul, 
.sf-menu.sf-vertical.sf-shadow ul, 
.sf-menu.sf-navbar.sf-shadow ul ul {
  background: transparent;
  padding: 0 !important;
  -webkit-border-top-right-radius: 0;
  -webkit-border-bottom-left-radius: 0;
  -moz-border-radius-topright: 0;
  -moz-border-radius-bottomleft: 0;
  border-top-right-radius: 0;
  border-bottom-left-radius: 0;
}

#mini-panel-top_menus .sf-menu {
  float: left;
  margin-bottom: 0;
  letter-spacing: 2px;
  
  a {
    border-top: none;
    color: $white;
    display: block;
    height: 37px;
    line-height: 37px;
    padding: 0 .65em;
    position: relative;
    text-decoration: none;
    zoom: 1; // IE7
    text-shadow: 1.5px 1px 2px #222;
    
    @include font(105%, bold);
  }
 
  ul {
    border-style: none solid none solid;
    border-width: 0px 1px 1px 1px;
    border-color: lighten($mdgray, 15%);
    background: lighten($ltgray, 10%);
    box-shadow: 2px 2px 6px rgba(0,0,0,.2);
    display: none;
    left: 0;
    padding: 0;
    margin: 0;
    position: absolute;
    top: 100%;
    z-index: 99;
    min-width: 12em; // allow long menu items to determine submenu width 
    *width: 12em;    // no auto sub width for IE7, see white-space comment below
  
    @include opacity(.9);
    
    li {
      position: relative;
        
      a {
        color: $dkgray;
        border-bottom: 1px solid lighten($mdgray, 15%);
        text-shadow: none;
  
        &:hover,
        &:active,
        &.active {
          color: $black;
        }
        @include font(95%, bold);
      }
    }
    
    ul {
      left: 100%;
    }
  }
  
  // self referencing
  & a:hover,
  & a:active,
  & a.active,
  & > .sfHover > a.menuparent {
   color: $ltyellow;
  }
  
  & > li {
    float: left;
    
    &:hover > ul,
    &.sfHover > ul { // second level ul's need to be 37px from the top
      top: 37px;
      display: block;
    }    
  }
  
  // Arrows
  & a.menuparent > .arrow {
    display: block;
    position: absolute;
    top: 14px;
    right: -3px;
    
    @include arrow-right(5px, lighten($mdblue, 15%));
  }
  & .sfHover.sf-depth-1 > a.menuparent > .arrow {
    top: 17px;
    right: 0px;
    
    @include arrow-down(5px, lighten($mdblue, 15%));
  }
  & .sfHover.sf-depth-1 .menuparent > a.menuparent > .arrow {
    @include arrow-right(5px, $black);
  }
}


// Secondary (User menu) superfish menu
#mini-panel-top_menus .pane-superfish-2 .sf-menu {
  float: right;
  letter-spacing: 1px;
  
  a {
    @include font(100%, normal);
  }
  
  // Secondary superfish menu dropdowns not working yet - though not needed either
  // currently they pop out to the left 
  a.menuparent > .arrow {
    left: 3px;
    
    @include arrow-left(5px, lighten($mdblue, 15%));
  }
  
  & .sfHover.sf-depth-1 .menuparent > a.menuparent > .arrow {
    @include arrow-left(5px, $black);
  }
}



